
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jump</title>

<style>
body {

   background-color:#c3c3c3;
}
h1 {background-color:#4c6ebb;}
#canvas {
width:100%;
    background-color:#000000;
}</style>
</head>

<body>
<h1 align="center">My Jumper Game</h1>

<p align="center">A fun flappy-bird like game.</p>
<canvas id="canvas" width="600" height="400">

  Your browser does not support the HTML5 canvas tag.
</canvas>
<br></br>
<button id="jump">Jump</button><script>
window.onload = function() {
var canvas = document.getElementById("canvas");

    var context = canvas.getContext("2d");
    var x = 300;
    var y = 350;
    
    let dir = -1;

    context.arc(x, y, 50, 0, 2 * Math.PI);
    context.fillStyle="red";
    context.fill();

    let btn = document.getElementById("jump");
    let count = 0;
    let t = Date.now();
    let speed = 25;
    let maxHeightJump = 50;
    let anim;

const draw = () => {
count += 1;
//changing the y position
    if (y <= maxHeightJump || y > 350 ) {
        dir *= -1;
        
        console.log(dir, maxHeightJump, speed);
    }
    
    

  let timePassed = (Date.now() - t) / 1000;
  t = Date.now();
  
 if( y <= 350){
      speed += 50 * timePassed;
        //y += dir * timePassed * speed;
  }
  
    
  
    
    
    
    if (y > 350){
      //speed = 25;
        //count = 0;
        
        maxHeightJump += 10;
    }
    
    if (maxHeightJump > 300) {
        count = 0;
        speed = 0;
        maxHeightJump = 351;
        y = 350;
    } else {
    speed -= 25 * timePassed;
        y += dir * 25;
    }
    
    
  
    
    //clearing the canvas
    context.clearRect(0, 0, 600, 400);
     
    //redrawing the circle   
    context.beginPath();
    context.arc(x, y, 50, 0, 2 * Math.PI);
    context.fillStyle="red";
    context.fill();

    //drawing the count value
    context.font = '25px Arial';
    context.fillStyle = 'white';
    context.fillText("Count: " + count, 20, 30);
    
    anim = requestAnimationFrame(draw);
};

const onClick = () => {
cancelAnimationFrame(anim);
t = Date.now();
count = 0;
speed = 25;
maxHeightJump = 50;
    draw();
};

document.ontouchstart = onClick;
document.onkeydown = onClick;
}</script>
</body>
</html>
